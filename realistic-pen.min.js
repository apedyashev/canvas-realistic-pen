function RealisticPen(a){this.init(a)}RealisticPen.prototype={context:null,mouseX:null,mouseY:null,painters:null,interval:null,canvas:null,penColor:[0,0,0],brushPressure:1,brushSize:3,canvasDefWidth:"200",canvasDefHeight:200,init:function(a){function b(){var a;for(c.context.lineWidth=c.brushSize,c.context.strokeStyle="rgba("+c.penColor[0]+", "+c.penColor[1]+", "+c.penColor[2]+", "+.05*c.brushPressure+")",a=0;a<c.painters.length;a++)c.context.beginPath(),c.context.moveTo(c.painters[a].dx,c.painters[a].dy),c.painters[a].dx-=c.painters[a].ax=(c.painters[a].ax+(c.painters[a].dx-c.mouseX)*c.painters[a].div)*c.painters[a].ease,c.painters[a].dy-=c.painters[a].ay=(c.painters[a].ay+(c.painters[a].dy-c.mouseY)*c.painters[a].div)*c.painters[a].ease,c.context.lineTo(c.painters[a].dx,c.painters[a].dy),c.context.stroke()}var c=this,d=a.parentNode;a.width=d.offsetWidth?d.offsetWidth:this.canvasDefWidth,a.height=d.offsetHeight?d.offsetHeight:this.canvasDefHeight,this.canvas=a,this.context=a.getContext("2d"),this.attachEventListeners(),this.context.globalCompositeOperation="source-over",this.mouseX=this.canvas.width/2,this.mouseY=this.canvas.height/2,this.painters=[];for(var e=0;50>e;e++)this.painters.push({dx:this.canvas.width/2,dy:this.canvas.height/2,ax:0,ay:0,div:.1,ease:.5});this.interval=setInterval(b,1e3/60)},destroy:function(){clearInterval(this.interval)},strokeStart:function(a,b){this.mouseX=a,this.mouseY=b;for(var c=0;c<this.painters.length;c++)this.painters[c].dx=a,this.painters[c].dy=b;this.shouldDraw=!0},stroke:function(a,b){this.mouseX=a,this.mouseY=b},strokeEnd:function(){},attachEventListeners:function(){var a=this,b=function(b){a.strokeStart(b.clientX,b.clientY),window.addEventListener("mousemove",c,!1),window.addEventListener("mouseup",d,!1)},c=function(b){a.stroke(b.clientX,b.clientY)},d=function(){a.strokeEnd(),window.removeEventListener("mousemove",c,!1),window.removeEventListener("mouseup",d,!1)},e=function(b){1==b.touches.length&&(b.preventDefault(),a.strokeStart(b.touches[0].pageX,b.touches[0].pageY),window.addEventListener("touchmove",f,!1),window.addEventListener("touchend",g,!1))},f=function(b){1==b.touches.length&&(b.preventDefault(),a.stroke(b.touches[0].pageX,b.touches[0].pageY))},g=function(b){0===b.touches.length&&(b.preventDefault(),a.strokeEnd(),window.removeEventListener("touchmove",f,!1),window.removeEventListener("touchend",g,!1))};this.canvas.addEventListener("mousedown",b,!1),this.canvas.addEventListener("touchstart",e,!1)}};